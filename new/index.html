<!DOCTYPE html>
<html>

<head>
    <title>Dragons4Dragons</title>
    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link href="https://fonts.googleapis.com/css2?family=Roboto&display=swap" rel="stylesheet">
</head>

<body>
    <div class="root">
        <div class="header" id="header">
            <h1>about</h1>
            <h1>pics</h1>
            <h1>members</h1>
            <h1>sponsors</h1>
            <h1>more!</h1>
        </div>
        <div id="bg">
        </div>
        <div id="back">
            <div id="content">
                D R A G O N S 4 D R A G O N S
            </div>
        </div>
        <div class="cover">
            <div class="title l">
                <h1>ABOUT</h1>
            </div>
            <div class="desc r">This program was created for students to support each other by raising funds for college
                scholarships through the sale of merchandise, donations, and sponsorships. It is the hope that enough
                money will be raised each year to give out several awards to those students who have demonstrated the
                true meaning of being a Southlake Carroll Dragon.</div>
        </div>
        <div id="bg2">
        </div>
    </div>
</body>

</html>

<style>
    html {
        overflow-x: hidden;
    }

    body {
        margin: 0;
        width: 100%;
        height: 100%;
        left: 0;
    }

    .header {
        position: fixed;
        display: none;
        width: 98%;
        height: 75px;
        margin: 0;
        left: 0;
        top: 0;
        background-color: white;
        justify-content: flex-end;
        z-index: 1;
        padding-right: 2%;
    }

    .header h1 {
        margin: auto 1%;
        max-width: min-content;
    }

    .header h1:hover {
        cursor: pointer;
    }

    #bg {
        display: block;
        overflow-x: hidden;
        width: 105vw;
        transform: translate(0, 0);
        z-index: -1;
        height: 105vh;
        background-image: url("img2/school.jpg");
        background-attachment: fixed;
        background-size: cover;
        background-repeat: no-repeat;
        background-position: bottom;
        filter: saturate(200%) blur(10px);
    }

    #bg2 {
        position: inherit;
        margin-top: 0;
        overflow-x: hidden;
        width: 105vw;
        transform: translate(0, -7.5vh);
        z-index: -10;
        height: 105vh;
        background-image: url("img2/school.jpg");
        background-attachment: fixed;
        background-size: cover;
        background-repeat: no-repeat;
        background-position: bottom;
        filter: saturate(200%) blur(10px);
    }

    .slideDown {
        opacity: 1;
        animation: slideDown 1s;
    }

    .slideUp {
        animation: slideUp 1s;
        transform: translateY(-100%);
    }

    @keyframes slideDown {
        0% {
            transform: translateY(-100%);
        }

        100% {
            transform: translateY(0);
        }
    }

    @keyframes slideUp {
        0% {
            transform: translateY(0);
        }

        100% {
            transform: translateY(-100%);
        }
    }

    #back {
        position: absolute;
        display: flex;
        width: 100vw;
        height: 100vh;
        left: 0;
        top: 0;
        margin: 0;
    }

    #content {
        display: block;
        position: relative;
        margin: auto;
        font-family: 'Roboto', sans-serif;
        width: min-content;
        font-size: 40px;
        font-weight: bold;
        word-spacing: 10px;
        height: min-content;
        background-image: linear-gradient();
        color: white;
        /* background-color: rgb(80, 80, 80); */
        text-align: center;
        padding: 30px;
        border: 10px white solid;
    }

    .root {
        width: 100vw;
        left: 0;
        top: 0;
        margin: 0;
        background-color: transparent;
        position: absolute;
    }

    .cover {
        display: flex;
        transform: translateY(-5vh);
        width: 100vw;
        padding-top: 3vh;
        padding-bottom: 3vh;
        min-height: 200px;
        font-family: 'Roboto', sans-serif;
        background-color: white;
        color: rgb(41, 41, 41);
        z-index: 2;
    }

    .cover div {
        margin-top: auto;
        margin-bottom: auto;
        height: auto;
        padding: 1% 3% 1% 3%;
    }

    .cover h1 {
        font-size: 300%;
        width: 100%;
    }

    .l {
        margin-left: auto;
        text-align: right;
        border-right: solid black 3px;
        width: 15%;
    }

    .r {
        font-size: 150%;
        margin-right: auto;
        width: 50%;
        height: 1%;
        min-width: 200px;
        text-overflow: clip;
        overflow: hidden;
        background-color: white;
        animation: expands 3s;
    }

    @keyframes expands {
        0% {
            height: 0;
            opacity: 0;
        }

        100% {
            height: 30%;
            opacity: 1;
        }
    }
</style>

<script>


    // left: 37, up: 38, right: 39, down: 40,
    // spacebar: 32, pageup: 33, pagedown: 34, end: 35, home: 36
    var keys = { 37: 1, 38: 1, 39: 1, 40: 1 };

    function preventDefault(e) {
        e.preventDefault();
    }

    function preventDefaultForScrollKeys(e) {
        if (keys[e.keyCode]) {
            preventDefault(e);
            return false;
        }
    }

    // modern Chrome requires { passive: false } when adding event
    var supportsPassive = false;
    try {
        window.addEventListener("test", null, Object.defineProperty({}, 'passive', {
            get: function () { supportsPassive = true; }
        }));
    } catch (e) { }

    var wheelOpt = supportsPassive ? { passive: false } : false;
    var wheelEvent = 'onwheel' in document.createElement('div') ? 'wheel' : 'mousewheel';

    // call this to Disable
    function disableScroll() {
        window.addEventListener('DOMMouseScroll', preventDefault, false); // older FF
        window.addEventListener(wheelEvent, preventDefault, wheelOpt); // modern desktop
        window.addEventListener('touchmove', preventDefault, wheelOpt); // mobile
        window.addEventListener('keydown', preventDefaultForScrollKeys, false);
    }

    // call this to Enable
    function enableScroll() {
        window.removeEventListener('DOMMouseScroll', preventDefault, false);
        window.removeEventListener(wheelEvent, preventDefault, wheelOpt);
        window.removeEventListener('touchmove', preventDefault, wheelOpt);
        window.removeEventListener('keydown', preventDefaultForScrollKeys, false);
    }














    document.getElementById("header").style.display = "inline-flex";
    document.getElementById("header").classList.add("slideDown");
    //document.getElementById("header").style.display = "none";

    var isMobile = false;
    var toggle = true;
    function check(e) {

        mobile();

        if (isMobile) {
            return;
        }

        if (e.clientY < 80 || window.scrollY == 0 || (up && isMobile)) {
            toggle = true;
            document.getElementById("header").classList.remove("slideUp");
            document.getElementById("header").style.display = "inline-flex";
            document.getElementById("header").classList.add("slideDown");
        } else {
            toggle = false;
            document.getElementById("header").classList.remove("slideDown");
            document.getElementById("header").classList.add("slideUp");
        }
    }

    document.onmousemove = (e) => {
        check(e);
    }

    var lastScrollTop = 0;
    var up = false;

    var pos = 0;
    var spots = [1, 50, 100]
    var scrolling = false;
    var static = true;
    var staticVal = 0;

    window.scroll({
        top: 0,
        left: 0
    });


    function tempScroll(event) {
        event.preventDefault();

        console.log(event);

        if (event.deltaY < 0) {
            up = true;
        } else {
            up = false;
        }

        adjustPos();
        window.scrollTo({
            top: Math.round((spots[pos] / 100) * window.innerHeight),
            behavior: 'smooth'
        })
        staticVal = 0;
        static = true;
    }

    document.addEventListener('wheel', tempScroll, { passive: false });

    function swipe(e) {
        e.preventDefault();
    }

    window.addEventListener('touchmove', swipe, { passive: false });

    var clientX, clientY;

    window.addEventListener('touchstart', function (e) {
        // Cache the client X/Y coordinates
        clientX = e.touches[0].clientX;
        clientY = e.touches[0].clientY;
    }, false);

    window.addEventListener('touchend', function (e) {
        var deltaX, deltaY;

        deltaX = e.changedTouches[0].clientX - clientX;
        deltaY = e.changedTouches[0].clientY - clientY;

        var dist = 60

        if (deltaY > 60) {
            up = true;
        } else if (deltaY < -60) {
            up = false;
        } else {
            if (!toggle) {
                toggle = true;
                document.getElementById("header").classList.remove("slideUp");
                document.getElementById("header").style.display = "inline-flex";
                document.getElementById("header").classList.add("slideDown");
            } else {
                toggle = false;
                document.getElementById("header").classList.remove("slideDown");
                document.getElementById("header").classList.add("slideUp");
            }
            return;
        }

        adjustPos();
        window.scrollTo({
            top: Math.round((spots[pos] / 100) * window.innerHeight),
            behavior: 'smooth'
        })

    }, false);


    function adjustPos() {
        scrolling = true;
        if (up) {
            pos--;
            if (pos < 0) {
                pos = 0;
            }
        } else {
            pos++;
            if (pos >= spots.length) {
                pos = spots.length - 1;
            }
        }

    }



    function mobile() {
        if (/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)) {
            isMobile = true;
            console.log(navigator.userAgent);
            document.getElementById("back").style.height = "95vh";
            document.getElementById("bg").style.height = "95vh";
            document.getElementById("header").style.height = "10vh";
            document.getElementById("header").style.fontSize = 'larger';
            document.getElementById("content").style.width = 'min-content';
        } else {
            isMobile = false;
            document.getElementById("content").style.width = 'max-content';
            document.getElementById("header").style.fontSize = '60%';
        }
    }

    mobile();


    // left: 37, up: 38, right: 39, down: 40,
    // spacebar: 32, pageup: 33, pagedown: 34, end: 35, home: 36
    var keys = { 38: 1, 40: 2, 32: 2, 33: 1, 34: 2, 35: 3, 36: 3 };

    function preventDefault(e) {
        e.preventDefault();
    }

    function preventDefaultForScrollKeys(e) {
        if (keys[e.keyCode]) {
            preventDefault(e);

            if (keys[e.keyCode] == 1) {
                up = true;
            } else if (keys[e.keyCode] == 2) {
                up = false;
            } else if (e.keyCode == 35) {
                up = false;
                pos = spots.length - 1;
            } else if (e.keyCode == 36) {
                up = true;
                pos = 0;
            }



            adjustPos();
            window.scrollTo({
                top: Math.round((spots[pos] / 100) * window.innerHeight),
                behavior: 'smooth'
            })

            return false;
        }
    }

    //window.addEventListener('touchmove', preventDefault, wheelOpt); // mobile
    window.addEventListener('keydown', preventDefaultForScrollKeys, false);

</script>